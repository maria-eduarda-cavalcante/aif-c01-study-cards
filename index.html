<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AWS Certified AI Practitioner (AIF-C01) — Study Cards & Mock Exam</title>
  <meta name="description" content="Study cards e simulado interativo (AIF-C01) em uma única página para GitHub Pages."/>
  <style>
    :root{
      --bg:#0b1220; --panel:#111a2e; --ink:#e6eefc; --muted:#9ab0d6; --accent:#4ba3ff; --ok:#27c93f; --bad:#ff4d4f;
      --card:#0e172a; --chip:#17213a; --border:#223155; --overlay: rgba(6, 12, 24, .75);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial;color:var(--ink);background:linear-gradient(180deg,#060b16,#0b1220 35%,#0b1220)}
    a{color:var(--accent)}
    .container{max-width:1100px;margin:0 auto;padding:24px}
    header{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:20px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:40px;height:40px;border-radius:10px;background:radial-gradient(circle at 30% 30%,#4ba3ff 0,#2f6fff 40%,#0e2a6b 100%);box-shadow:0 6px 18px rgba(17,106,255,.35)}
    h1{font-size:22px;letter-spacing:.2px;margin:0}
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{background:var(--panel);border:1px solid var(--border);color:var(--ink);padding:10px 14px;border-radius:12px;cursor:pointer}
    .tab[aria-selected="true"]{outline:2px solid var(--accent)}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:0 12px 24px rgba(0,0,0,.25)}
    .card h3{margin:0 0 8px 0;font-size:16px}
    .muted{color:var(--muted)}
    .chip{display:inline-block;padding:6px 10px;border-radius:999px;background:var(--chip);border:1px solid var(--border);font-size:12px;margin:3px 6px 0 0;cursor:pointer;user-select:none}
    .chip:focus{outline:2px solid var(--accent)}
    .qpanel{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:18px}
    .qtext{font-size:16px;margin:0 0 10px 0}
    .opt{display:flex;gap:10px;align-items:flex-start;background:var(--card);border:1px solid var(--border);padding:10px;border-radius:12px;margin:8px 0;cursor:pointer}
    .opt input{margin-top:2px}
    .opt.correct{outline:2px solid var(--ok);background:rgba(39,201,63,.08)}
    .opt.wrong{outline:2px solid var(--bad);background:rgba(255,77,79,.08)}
    .explain{margin-top:10px;color:var(--muted)}
    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .spacer{height:14px}
    .footer{margin-top:24px;color:var(--muted);font-size:12px}
    .pill{padding:4px 10px;border:1px solid var(--border);border-radius:999px;background:var(--chip)}
    .stat{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:var(--chip)}
    .hidden{display:none !important}
    .overlay{position:fixed;inset:0;background:var(--overlay);display:flex;align-items:center;justify-content:center;padding:20px;z-index:9999}
    .modal{max-width:720px;width:100%;max-height:90vh;background:var(--panel);border:1px solid var(--border);border-radius:16px;box-shadow:0 22px 60px rgba(0,0,0,.45);overflow:auto}
    .modal header{display:flex;justify-content:space-between;align-items:center;padding:16px 18px;border-bottom:1px solid var(--border)}
    .modal header h3{margin:0;font-size:18px}
    .modal .body{padding:18px}
    .tag{display:inline-block;margin:0 6px 6px 0;padding:4px 8px;border:1px solid var(--border);border-radius:999px;background:var(--chip);font-size:12px;color:var(--muted)}
    .close{background:transparent;border:1px solid var(--border);color:var(--ink);border-radius:10px;padding:6px 10px;cursor:pointer}
    .close:hover{border-color:var(--accent)}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo"></div>
        <div>
          <h1>AIF-C01 Study Cards + Mock Exam</h1>
          <div class="muted">Auxiliar de estudos (não oficial) baseado no guia público do exame.</div>
        </div>
      </div>
      <nav class="tabs" role="tablist">
        <button class="tab" role="tab" id="tab-cards" data-view="cards" aria-controls="view-cards" aria-selected="true" type="button">Study Cards</button>
        <button class="tab" role="tab" id="tab-quiz" data-view="quiz" aria-controls="view-quiz" aria-selected="false" type="button">Mock Exam</button>
        <button class="tab" role="tab" id="tab-how" data-view="how" aria-controls="view-how" aria-selected="false" type="button">How to Publish</button>
      </nav>
    </header>

    <section id="view-cards" role="tabpanel" aria-labelledby="tab-cards">
      <div class="grid">
        <div class="card">
          <h3>Core AWS Services</h3>
          <div class="muted">Compute · Storage · Networking · Security integration · Automation</div>
          <div class="spacer"></div>
          <div>
            <span class="chip" data-key="EC2" tabindex="0">EC2</span>
            <span class="chip" data-key="Lambda" tabindex="0">Lambda</span>
            <span class="chip" data-key="ECS" tabindex="0">ECS</span>
            <span class="chip" data-key="EKS" tabindex="0">EKS</span>
            <span class="chip" data-key="ELB" tabindex="0">ELB</span>
            <span class="chip" data-key="S3" tabindex="0">S3</span>
            <span class="chip" data-key="Glacier" tabindex="0">Glacier</span>
            <span class="chip" data-key="EBS" tabindex="0">EBS</span>
            <span class="chip" data-key="EFS" tabindex="0">EFS</span>
            <span class="chip" data-key="VPC" tabindex="0">VPC</span>
            <span class="chip" data-key="CloudFront" tabindex="0">CloudFront</span>
            <span class="chip" data-key="PrivateLink" tabindex="0">PrivateLink</span>
            <span class="chip" data-key="IAM" tabindex="0">IAM</span>
            <span class="chip" data-key="KMS" tabindex="0">KMS</span>
          </div>
        </div>

        <div class="card">
          <h3>Databases & Analytics</h3>
          <div class="muted">Operational stores · ETL · BI · Vector search</div>
          <div class="spacer"></div>
          <div>
            <span class="chip" data-key="RDS" tabindex="0">RDS</span>
            <span class="chip" data-key="DynamoDB" tabindex="0">DynamoDB</span>
            <span class="chip" data-key="Neptune" tabindex="0">Neptune</span>
            <span class="chip" data-key="DocumentDB" tabindex="0">DocumentDB</span>
            <span class="chip" data-key="OpenSearch" tabindex="0">OpenSearch</span>
            <span class="chip" data-key="Aurora" tabindex="0">Aurora</span>
            <span class="chip" data-key="Glue" tabindex="0">Glue</span>
            <span class="chip" data-key="DataBrew" tabindex="0">DataBrew</span>
            <span class="chip" data-key="LakeFormation" tabindex="0">Lake Formation</span>
            <span class="chip" data-key="Redshift" tabindex="0">Redshift</span>
            <span class="chip" data-key="QuickSight" tabindex="0">QuickSight</span>
            <span class="chip" data-key="EMR" tabindex="0">EMR</span>
            <span class="chip" data-key="DataExchange" tabindex="0">Data Exchange</span>
          </div>
        </div>

        <div class="card">
          <h3>Security, Identity & Compliance</h3>
          <div class="muted">Protect data · Access control · Audit · Compliance</div>
          <div class="spacer"></div>
          <div>
            <span class="chip" data-key="Macie" tabindex="0">Macie</span>
            <span class="chip" data-key="CloudTrail" tabindex="0">CloudTrail</span>
            <span class="chip" data-key="Config" tabindex="0">Config</span>
            <span class="chip" data-key="AuditManager" tabindex="0">Audit Manager</span>
            <span class="chip" data-key="Artifact" tabindex="0">Artifact</span>
            <span class="chip" data-key="TrustedAdvisor" tabindex="0">Trusted Advisor</span>
          </div>
        </div>

        <div class="card">
          <h3>Governance, Monitoring & Cost</h3>
          <div class="muted">Best practices · Observability · Budgeting</div>
          <div class="spacer"></div>
          <div>
            <span class="chip" data-key="WellArchitected" tabindex="0">Well-Architected Tool</span>
            <span class="chip" data-key="CloudWatch" tabindex="0">CloudWatch</span>
            <span class="chip" data-key="Budgets" tabindex="0">Budgets</span>
            <span class="chip" data-key="CostExplorer" tabindex="0">Cost Explorer</span>
            <span class="chip" data-key="ModelMonitor" tabindex="0">Model Monitor</span>
            <span class="chip" data-key="ComputeOptimizer" tabindex="0">Compute Optimizer</span>
          </div>
        </div>
      </div>
    </section>

    <section id="view-quiz" class="hidden" role="tabpanel" aria-labelledby="tab-quiz">
      <div class="row" style="justify-content:space-between;margin-bottom:12px">
        <div class="stat"><span>Questions:</span>
          <select id="numQuestions" class="tab" style="padding:6px 10px;border-radius:10px;background:var(--chip)">
            <option value="10">10</option>
            <option value="20">20</option>
            <option value="30">30</option>
            <option value="40">40</option>
            <option value="50" selected>50</option>
          </select>
        </div>
        <div class="row">
          <span class="pill" id="prog">0 / 0</span>
          <span class="pill" id="score">Score: 0</span>
        </div>
      </div>
      <div id="qroot" class="qpanel"></div>
      <div class="row" style="margin-top:12px;justify-content:space-between">
        <div class="row">
          <button class="tab" id="prevBtn" type="button">◀ Prev</button>
          <button class="tab" id="nextBtn" type="button">Next ▶</button>
        </div>
        <div class="row">
          <button class="tab" id="checkBtn" type="button">Check Answer</button>
          <button class="tab" id="finishBtn" type="button">Finish</button>
          <button class="tab" id="startBtn" type="button">Start New Mock</button>
        </div>
      </div>
      <div id="final" class="card hidden" style="margin-top:16px">
        <h3>Results</h3>
        <div id="finalText" class="muted"></div>
      </div>
    </section>

    <section id="view-how" class="hidden" role="tabpanel" aria-labelledby="tab-how" style="margin-top:20px">
      <div class="card">
        <h3>Publish to GitHub Pages (manual steps)</h3>
        <ol>
          <li>Create a new public repo (ex.: <span class="pill">aif-c01-study-cards</span>).</li>
          <li>Adicione <b>index.html</b>, <b>.nojekyll</b>, <b>404.html</b>, <b>README.md</b>, <b>LICENSE</b> na branch <b>main</b>.</li>
          <li>Em <b>Settings → Pages</b>, selecione: Source = <b>Deploy from a branch</b>, Branch = <b>main</b>, Folder = <b>root</b>.</li>
          <li>Abra: <code>https://&lt;seu-usuario&gt;.github.io/aif-c01-study-cards/</code></li>
        </ol>
      </div>
    </section>

    <div class="footer">Conteúdo alinhado ao guia público do AIF-C01. Ferramenta de estudo não oficial.</div>
  </div>

  <div id="overlay" class="overlay hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-hidden="true">
    <div class="modal" role="document">
      <header>
        <h3 id="modalTitle"></h3>
        <button class="close" id="modalClose" type="button" aria-label="Fechar">Fechar (Esc)</button>
      </header>
      <div class="body">
        <div id="modalTags"></div>
        <p id="modalDesc"></p>
        <p id="modalPurpose"></p>
        <p id="modalExample"></p>
      </div>
    </div>
  </div>

  <script>
    const DATA = {
      EC2:{name:"Amazon EC2",desc:"Servidores virtuais redimensionáveis.",purpose:"Hospedar apps, treino e inferência com controle do SO.",example:"Treinar PyTorch em g5.xlarge lendo dados do S3."},
      Lambda:{name:"AWS Lambda",desc:"Compute serverless por evento.",purpose:"Triggers/transformações sem gerenciar servidor.",example:"Ao criar objeto no S3, invoca inferência."},
      ECS:{name:"Amazon ECS",desc:"Orquestração gerenciada de contêiner.",purpose:"Implantar e escalar microsserviços de IA.",example:"Servir FastAPI de inferência atrás de ALB."},
      EKS:{name:"Amazon EKS",desc:"Kubernetes gerenciado.",purpose:"Plataformas e serviços de IA escaláveis.",example:"Helm chart com HPA para endpoint de modelo."},
      ELB:{name:"Elastic Load Balancing",desc:"Balanceador de tráfego.",purpose:"Alta disponibilidade e distribuição.",example:"ALB roteia /predict para múltiplas tasks."},
      S3:{name:"Amazon S3",desc:"Armazenamento de objetos durável.",purpose:"Data lake, artefatos e logs.",example:"Dataset no S3 consumido no treino."},
      Glacier:{name:"Amazon S3 Glacier",desc:"Arquivamento de baixo custo.",purpose:"Manter checkpoints antigos.",example:"Arquivar versões de modelo."},
      EBS:{name:"Amazon EBS",desc:"Volumes de bloco para EC2.",purpose:"I/O alto para treino ou bancos.",example:"Attach volume PIOPS em treino."},
      EFS:{name:"Amazon EFS",desc:"FS compartilhado elástico.",purpose:"Acesso NFS por várias instâncias.",example:"Workers lendo diretório comum."},
      VPC:{name:"Amazon VPC",desc:"Rede virtual isolada.",purpose:"Subnets/rotas/SGs para workloads.",example:"Endpoint privado em subnets isoladas."},
      CloudFront:{name:"Amazon CloudFront",desc:"CDN global.",purpose:"Acelera assets e APIs.",example:"UI e assets de modelo com baixa latência."},
      PrivateLink:{name:"AWS PrivateLink",desc:"Conectividade privada.",purpose:"Acesso a serviços via endpoints.",example:"Acessar Bedrock/SageMaker por endpoint privado."},
      IAM:{name:"AWS IAM",desc:"Identidades e permissões.",purpose:"Menor privilégio e controle de acesso.",example:"Role com acesso S3 somente leitura."},
      KMS:{name:"AWS KMS",desc:"Chaves de criptografia gerenciadas.",purpose:"Proteger dados at rest.",example:"Criptografar S3 e bancos com CMK."},
      RDS:{name:"Amazon RDS",desc:"Bancos relacionais gerenciados.",purpose:"Dados transacionais.",example:"Metadados de usuários + logs de inferência."},
      DynamoDB:{name:"Amazon DynamoDB",desc:"NoSQL chave-valor.",purpose:"Baixa latência e alta escala.",example:"Estado de chat e preferências."},
      Neptune:{name:"Amazon Neptune",desc:"Banco de grafos.",purpose:"Relações, KG, fraude.",example:"Nós/arestas para contexto em RAG."},
      DocumentDB:{name:"Amazon DocumentDB",desc:"JSON (compatível Mongo).",purpose:"Semi-estruturado flexível.",example:"Histórico de conversas JSON."},
      OpenSearch:{name:"Amazon OpenSearch",desc:"Busca/analytics e vetores.",purpose:"Full-text + semântica para RAG.",example:"Índice de embeddings top-k."},
      Aurora:{name:"Amazon Aurora",desc:"Relacional compatível MySQL/PG.",purpose:"OLTP HA com réplicas.",example:"Transações de app de IA."},
      Glue:{name:"AWS Glue",desc:"ETL serverless.",purpose:"Limpar/transformar/catalogar dados.",example:"Jobs normalizando CSVs do S3."},
      DataBrew:{name:"AWS Glue DataBrew",desc:"Prep visual sem código.",purpose:"Analistas prepararem dados.",example:"Transformações visuais e exportar ao S3."},
      LakeFormation:{name:"AWS Lake Formation",desc:"Governança de data lake.",purpose:"Permissões centralizadas.",example:"Acesso por tabela/catálogo."},
      Redshift:{name:"Amazon Redshift",desc:"DW analítico em escala.",purpose:"SQL em petabytes.",example:"Métricas de uso e custo."},
      QuickSight:{name:"Amazon QuickSight",desc:"BI serverless.",purpose:"Dashboards e KPIs.",example:"Painel de acurácia/latência/custo."},
      EMR:{name:"Amazon EMR",desc:"Spark/Hadoop gerenciado.",purpose:"Pré-processamento distribuído.",example:"Features em cluster Spark."},
      DataExchange:{name:"AWS Data Exchange",desc:"Dados de terceiros.",purpose:"Enriquecer modelos/analytics.",example:"Assinar dataset demográfico."},
      Macie:{name:"Amazon Macie",desc:"Descoberta de PII em S3.",purpose:"Privacidade e alertas.",example:"Alertar objetos com PII exposta."},
      CloudTrail:{name:"AWS CloudTrail",desc:"Logs de atividade/API.",purpose:"Auditar/investigar/compliance.",example:"Quem alterou config de modelo e quando."},
      Config:{name:"AWS Config",desc:"Conformidade/estado de recursos.",purpose:"Detectar drift/regras.",example:"S3 sem criptografia padrão."},
      AuditManager:{name:"AWS Audit Manager",desc:"Evidências para auditoria.",purpose:"Mapear controles a frameworks.",example:"Relatório SOC/ISO com evidências."},
      Artifact:{name:"AWS Artifact",desc:"Relatórios de compliance.",purpose:"Baixar SOC/ISO e acordos.",example:"Fornecer SOC 2 ao auditor."},
      TrustedAdvisor:{name:"AWS Trusted Advisor",desc:"Recomendações multi-pilar.",purpose:"Otimizar custo/segurança.",example:"Detectar GPUs ociosas."},
      WellArchitected:{name:"Well-Architected Tool",desc:"Revisão guiada de pilares.",purpose:"Avaliar workloads e melhorias.",example:"Revisar pipeline de ML."},
      CloudWatch:{name:"Amazon CloudWatch",desc:"Métricas/logs/alarmes.",purpose:"Observabilidade e automação.",example:"Alertar latência do modelo."},
      Budgets:{name:"AWS Budgets",desc:"Limites de custo/uso.",purpose:"Alertas proativos.",example:"Avisar 80% do orçamento."},
      CostExplorer:{name:"AWS Cost Explorer",desc:"Análise de custos.",purpose:"Quebrar por serviço/tag.",example:"Comparar custo EC2 vs SageMaker."},
      ModelMonitor:{name:"SageMaker Model Monitor",desc:"Qualidade/dériva pós-deploy.",purpose:"Detectar desvios.",example:"Comparar live vs baseline."},
      ComputeOptimizer:{name:"AWS Compute Optimizer",desc:"Rightsizing via ML.",purpose:"Melhor tipo de instância.",example:"Reduzir custo de nós de treino."}
    };

    const qroot = document.getElementById('qroot');
    const body = document.body;
    const overlay = document.getElementById('overlay');
    const closeBtn = document.getElementById('modalClose');
    const titleEl = document.getElementById('modalTitle');
    const tagsEl = document.getElementById('modalTags');
    const descEl = document.getElementById('modalDesc');
    const purposeEl = document.getElementById('modalPurpose');
    const exampleEl = document.getElementById('modalExample');

    function showView(view){
      const ids = {cards:'#view-cards', quiz:'#view-quiz', how:'#view-how'};
      for(const k in ids){
        const el = document.querySelector(ids[k]);
        const tab = document.querySelector(`[data-view="${k}"]`);
        if(!el || !tab) continue;
        if(k === view){ el.classList.remove('hidden'); tab.setAttribute('aria-selected','true'); }
        else{ el.classList.add('hidden'); tab.setAttribute('aria-selected','false'); }
      }
    }

    let lastFocus = null;
    const focusableSelector = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';

    function openModal(key){
      const it = DATA[key];
      if(!it){ console.warn('Sem DATA para', key); return; }
      titleEl.textContent = it.name;
      tagsEl.innerHTML = `<span class="tag">Acrônimo: ${key}</span>`;
      descEl.innerHTML = `<b>Descrição:</b> ${it.desc}`;
      purposeEl.innerHTML = `<b>Para que serve:</b> ${it.purpose}`;
      exampleEl.innerHTML = `<b>Exemplo:</b> ${it.example}`;
      lastFocus = document.activeElement;
      if(!overlay) return;
      overlay.classList.remove('hidden');
      overlay.removeAttribute('aria-hidden');
      body.style.setProperty('overflow','hidden');
      if(closeBtn) closeBtn.focus();
    }
    function isModalOpen(){
      return overlay && !overlay.classList.contains('hidden');
    }
    function closeModal(){
      if(!isModalOpen()) return;
      overlay.classList.add('hidden');
      overlay.setAttribute('aria-hidden','true');
      body.style.removeProperty('overflow');
      titleEl.textContent=''; tagsEl.innerHTML=''; descEl.innerHTML=''; purposeEl.innerHTML=''; exampleEl.innerHTML='';
      if(lastFocus && typeof lastFocus.focus==='function'){ lastFocus.focus(); }
      lastFocus = null;
    }
    function trapFocus(e){
      if(e.key!=='Tab' || overlay.classList.contains('hidden')) return;
      const focusable = Array.from(overlay.querySelectorAll(focusableSelector)).filter(el=>!el.hasAttribute('disabled'));
      if(focusable.length===0) return;
      const first = focusable[0];
      const last = focusable[focusable.length-1];
      if(e.shiftKey){
        if(document.activeElement===first){ e.preventDefault(); last.focus(); }
      } else {
        if(document.activeElement===last){ e.preventDefault(); first.focus(); }
      }
    }

    // Questions bank (amostra reduzida; gere ~30-40 seguindo o padrão)
    const BANK = [
      {domain:"Core",type:"single",q:"Which service provides virtual machines for training or inference?",opts:["AWS Lambda","Amazon EC2","Amazon S3","Amazon CloudFront"],ans:[1],ex:"EC2 provides resizable compute; Lambda is serverless."},
      {domain:"Core",type:"single",q:"Which service is object storage for data lakes used in ML?",opts:["Amazon EFS","Amazon EBS","Amazon S3","Amazon Redshift"],ans:[2],ex:"S3 stores datasets, artifacts, logs."},
      {domain:"Core",type:"multi",q:"Select the container orchestration services.",opts:["Amazon ECS","Amazon EKS","AWS Batch","AWS Lambda"],ans:[0,1],ex:"ECS and EKS orchestrate containers; Lambda is FaaS."},
      {domain:"DBA",type:"single",q:"Which database is a fully managed NoSQL key-value store?",opts:["Amazon RDS","Amazon DynamoDB","Amazon Neptune","Amazon DocumentDB"],ans:[1],ex:"DynamoDB is NoSQL KV."},
      {domain:"Sec",type:"single",q:"Which service manages encryption keys for data at rest?",opts:["AWS IAM","AWS KMS","AWS Artifact","AWS Budgets"],ans:[1],ex:"KMS handles keys used by many services."},
      {domain:"Core",type:"single",q:"Which service lets you run code in response to events without managing servers?",opts:["Amazon EC2","AWS Lambda","Amazon ECS","Amazon EKS"],ans:[1],ex:"Lambda is event-driven serverless compute."},
      {domain:"Core",type:"single",q:"Which service simplifies running batch jobs at scale?",opts:["AWS Batch","Amazon SQS","AWS Glue","Amazon EMR"],ans:[0],ex:"AWS Batch manages compute environments for batch jobs."},
      {domain:"Core",type:"multi",q:"Which services can distribute incoming application traffic?",opts:["Elastic Load Balancing","Amazon CloudFront","AWS WAF","AWS IAM"],ans:[0,1],ex:"ELB balances traffic and CloudFront caches globally."},
      {domain:"DBA",type:"single",q:"Which managed service offers graph database capabilities?",opts:["Amazon Neptune","Amazon RDS","Amazon Redshift","AWS Glue"],ans:[0],ex:"Neptune is built for graph workloads."},
      {domain:"DBA",type:"single",q:"Which service provides managed data warehousing for analytics?",opts:["Amazon Redshift","Amazon Aurora","Amazon DynamoDB","Amazon Athena"],ans:[0],ex:"Redshift is the data warehouse."},
      {domain:"DBA",type:"multi",q:"Select services commonly used for ETL pipelines.",opts:["AWS Glue","Amazon S3","Amazon CloudFront","AWS Budgets"],ans:[0,1],ex:"Glue transforms data stored in S3."},
      {domain:"DBA",type:"single",q:"Which BI service delivers dashboards with pay-per-session pricing?",opts:["Amazon QuickSight","Amazon Athena","Amazon EMR","AWS Lake Formation"],ans:[0],ex:"QuickSight offers serverless BI dashboards."},
      {domain:"DBA",type:"multi",q:"Which services support vector search workloads?",opts:["Amazon OpenSearch","Amazon DynamoDB","Amazon S3","Amazon Redshift"],ans:[0],ex:"OpenSearch includes vector search support."},
      {domain:"Sec",type:"single",q:"Which service helps classify sensitive data in S3 buckets?",opts:["Amazon Macie","AWS IAM","AWS KMS","AWS Shield"],ans:[0],ex:"Macie uses ML to detect PII."},
      {domain:"Sec",type:"single",q:"Which service records API activity for governance and auditing?",opts:["AWS Config","AWS CloudTrail","Amazon CloudWatch","AWS Trusted Advisor"],ans:[1],ex:"CloudTrail logs API calls."},
      {domain:"Sec",type:"multi",q:"Select services that help assess compliance posture.",opts:["AWS Audit Manager","AWS Artifact","Amazon Inspector","AWS CodeCommit"],ans:[0,1],ex:"Audit Manager and Artifact support compliance evidence."},
      {domain:"Sec",type:"single",q:"Which service lets you centrally define and enforce resource configuration rules?",opts:["AWS Config","AWS IAM","AWS Secrets Manager","AWS Backup"],ans:[0],ex:"Config evaluates configuration compliance."},
      {domain:"Governance",type:"single",q:"Which tool guides architectural reviews using AWS best practices?",opts:["AWS Trusted Advisor","AWS Well-Architected Tool","AWS Organizations","AWS Budgets"],ans:[1],ex:"Well-Architected Tool reviews workloads against pillars."},
      {domain:"Governance",type:"multi",q:"Select services that provide cost visibility and controls.",opts:["AWS Budgets","AWS Cost Explorer","Amazon CloudFront","AWS Systems Manager"],ans:[0,1],ex:"Budgets and Cost Explorer focus on spend management."},
      {domain:"Governance",type:"single",q:"Which service offers automated recommendations to right-size compute?",opts:["AWS Compute Optimizer","Amazon Inspector","AWS Config","AWS Budgets"],ans:[0],ex:"Compute Optimizer analyzes utilization to suggest changes."},
      {domain:"Governance",type:"single",q:"Which service aggregates operational telemetry like metrics and logs?",opts:["Amazon CloudWatch","AWS CloudTrail","AWS X-Ray","AWS Systems Manager"],ans:[0],ex:"CloudWatch centralizes metrics and logs."},
      {domain:"Governance",type:"multi",q:"Which services provide ongoing security recommendations?",opts:["AWS Trusted Advisor","Amazon GuardDuty","AWS Budgets","AWS Cost Explorer"],ans:[0,1],ex:"Trusted Advisor and GuardDuty surface security findings."},
      {domain:"Governance",type:"single",q:"Which service helps discover unused GPU instances to cut costs?",opts:["AWS Trusted Advisor","AWS Budgets","AWS Config","AWS CloudTrail"],ans:[0],ex:"Trusted Advisor flags underutilized resources."},
      {domain:"Core",type:"single",q:"Which storage service offers long-term archival with retrieval in hours?",opts:["Amazon S3 Glacier","Amazon EFS","Amazon EBS","Amazon DynamoDB"],ans:[0],ex:"S3 Glacier provides archival tiers."},
      {domain:"Core",type:"multi",q:"Which services provide shared file storage?",opts:["Amazon EFS","Amazon FSx","Amazon S3","AWS Lambda"],ans:[0,1],ex:"EFS and FSx deliver shared file systems."},
      {domain:"Core",type:"single",q:"Which service builds managed Kubernetes control planes?",opts:["Amazon EKS","Amazon ECS","AWS Batch","AWS Fargate"],ans:[0],ex:"EKS manages Kubernetes clusters."},
      {domain:"Core",type:"single",q:"Which network service enables private connectivity to AWS services?",opts:["AWS PrivateLink","Amazon Route 53","AWS Direct Connect","Amazon CloudFront"],ans:[0],ex:"PrivateLink exposes services via private endpoints."},
      {domain:"DBA",type:"single",q:"Which service catalogs data assets and enforces granular permissions in a lake?",opts:["AWS Lake Formation","AWS Glue","Amazon Athena","Amazon Redshift"],ans:[0],ex:"Lake Formation handles catalog and permissions."},
      {domain:"DBA",type:"multi",q:"Which services can run serverless SQL on S3?",opts:["Amazon Athena","Amazon Redshift Serverless","AWS Batch","AWS Glue DataBrew"],ans:[0,1],ex:"Athena and Redshift Serverless query S3 data."},
      {domain:"DBA",type:"single",q:"Which service offers managed MongoDB-compatible document storage?",opts:["Amazon DocumentDB","Amazon DynamoDB","Amazon Neptune","Amazon Keyspaces"],ans:[0],ex:"DocumentDB is MongoDB compatible."},
      {domain:"DBA",type:"multi",q:"Which analytics services integrate with QuickSight dashboards?",opts:["Amazon Athena","Amazon Redshift","Amazon S3","AWS Snowball"],ans:[0,1,2],ex:"QuickSight can read from Athena, Redshift, and S3 datasets."},
      {domain:"Sec",type:"single",q:"Which service provides managed secrets storage with automatic rotation?",opts:["AWS Secrets Manager","AWS KMS","Amazon Cognito","AWS Identity Center"],ans:[0],ex:"Secrets Manager stores and rotates secrets."},
      {domain:"Sec",type:"multi",q:"Which services help detect anomalies in AWS accounts?",opts:["Amazon GuardDuty","AWS CloudTrail","AWS Macie","AWS Artifact"],ans:[0,2],ex:"GuardDuty and Macie detect anomalous activity."},
      {domain:"Sec",type:"single",q:"Which service delivers downloadable compliance reports like SOC 2?",opts:["AWS Artifact","AWS Audit Manager","AWS Config","AWS Shield"],ans:[0],ex:"Artifact hosts AWS compliance reports."},
      {domain:"Sec",type:"single",q:"Which identity service provides federated SSO to AWS accounts and apps?",opts:["AWS Identity Center","AWS IAM","Amazon Cognito","AWS Directory Service"],ans:[0],ex:"Identity Center (IAM Identity Center) manages SSO."},
      {domain:"Sec",type:"multi",q:"Which features support least privilege access design?",opts:["IAM roles","IAM policies","Amazon CloudFront","AWS Snowball"],ans:[0,1],ex:"Least privilege is enforced via roles and policies."},
      {domain:"Governance",type:"single",q:"Which service provides cost anomaly detection alerts?",opts:["AWS Cost Explorer","AWS Budgets","AWS Compute Optimizer","AWS Savings Plans"],ans:[1],ex:"Budgets can trigger cost anomaly alerts."},
      {domain:"Governance",type:"single",q:"Which service collects and queries logs from multiple AWS accounts?",opts:["Amazon CloudWatch Logs","AWS Config","AWS Organizations","AWS IAM"],ans:[0],ex:"CloudWatch Logs aggregates and queries logs."},
      {domain:"Governance",type:"multi",q:"Which services integrate with Organizations for multi-account governance?",opts:["AWS Config","AWS CloudTrail","Amazon S3","AWS Backup"],ans:[0,1,3],ex:"Config, CloudTrail, and Backup integrate with Organizations."},
      {domain:"Core",type:"single",q:"Which service accelerates delivery of static assets globally?",opts:["Amazon CloudFront","Amazon Route 53","AWS Direct Connect","AWS Global Accelerator"],ans:[0],ex:"CloudFront is the CDN for static content."},
      {domain:"Core",type:"multi",q:"Which compute services support GPU instances for ML training?",opts:["Amazon EC2","Amazon SageMaker","AWS Lambda","AWS Batch"],ans:[0,1,3],ex:"EC2, SageMaker, and Batch can run GPU workloads."},
      {domain:"Core",type:"single",q:"Which service provisions isolated virtual networks inside AWS?",opts:["Amazon VPC","Amazon CloudFront","AWS Transit Gateway","AWS Direct Connect"],ans:[0],ex:"VPC defines isolated networking."},
      {domain:"DBA",type:"single",q:"Which managed service is ideal for storing session state with millisecond latency?",opts:["Amazon DynamoDB","Amazon Redshift","Amazon S3","Amazon Timestream"],ans:[0],ex:"DynamoDB offers low-latency key-value storage."},
      {domain:"DBA",type:"multi",q:"Which services help build data lakes?",opts:["Amazon S3","AWS Lake Formation","AWS Glue","AWS IAM"],ans:[0,1,2],ex:"S3 stores data while Lake Formation and Glue govern and catalog it."},
      {domain:"Sec",type:"single",q:"Which service offers DDoS protection for web apps?",opts:["AWS Shield","AWS WAF","Amazon CloudFront","AWS Budgets"],ans:[0],ex:"Shield provides managed DDoS protection."},
      {domain:"Sec",type:"multi",q:"Which services provide network layer security controls?",opts:["Security Groups","Network ACLs","AWS Artifact","AWS Macie"],ans:[0,1],ex:"Security groups and NACLs control network traffic."},
      {domain:"GenAI",type:"single",q:"Which service offers managed foundation models with API access?",opts:["Amazon Bedrock","Amazon SageMaker","AWS Lambda","Amazon Polly"],ans:[0],ex:"Bedrock provides FM access via API."},
      {domain:"GenAI",type:"multi",q:"Which services support customizing foundation models with your data?",opts:["Amazon Bedrock","Amazon SageMaker","AWS IAM","Amazon QuickSight"],ans:[0,1],ex:"Bedrock and SageMaker support fine-tuning and customization."},
      {domain:"GenAI",type:"single",q:"Which service manages feature stores and pipelines for ML?",opts:["Amazon SageMaker","Amazon Athena","AWS Glue","Amazon EMR"],ans:[0],ex:"SageMaker includes pipelines, feature store, and training."},
      {domain:"GenAI",type:"single",q:"Which service can schedule notebooks and pipelines without managing servers?",opts:["Amazon SageMaker Studio","AWS Lambda","AWS Fargate","Amazon EC2"],ans:[0],ex:"SageMaker Studio orchestrates notebooks and pipelines."},
      {domain:"GenAI",type:"multi",q:"Which services help monitor deployed models for drift?",opts:["SageMaker Model Monitor","Amazon CloudWatch","AWS Budgets","AWS Glue"],ans:[0,1],ex:"Model Monitor and CloudWatch track model quality and metrics."},
      {domain:"GenAI",type:"single",q:"Which service enables experimentation with different FMs using a playground UI?",opts:["Amazon Bedrock","Amazon S3","AWS Glue","AWS Budgets"],ans:[0],ex:"Bedrock console offers a playground for FMs."},
      {domain:"GenAI",type:"single",q:"Which service can orchestrate ML workflows with managed steps and triggers?",opts:["Amazon SageMaker Pipelines","AWS Step Functions","Amazon SNS","Amazon EventBridge"],ans:[0],ex:"SageMaker Pipelines orchestrates ML workflows."}
    ];

    let deck=[], idx=0, score=0, checked=false, selections={};

    function startMock(){
      const n = parseInt(document.getElementById('numQuestions').value,10);
      deck = [...BANK].sort(()=>Math.random()-0.5).slice(0, Math.min(n, BANK.length));
      idx=0; score=0; selections={}; checked=false;
      updateMeta(); renderQ(); document.getElementById('final').classList.add('hidden');
    }
    function updateMeta(){
      document.getElementById('prog').textContent = `${Math.min(idx+1, deck.length)} / ${deck.length}`;
      document.getElementById('score').textContent = `Score: ${score}`;
    }
    function renderQ(){
      if(deck.length === 0){ qroot.innerHTML = '<p class="muted">Start a new mock to load questions.</p>'; return; }
      const q = deck[idx]; qroot.innerHTML='';
      const h = document.createElement('div');
      h.innerHTML = `<div class="row" style="justify-content:space-between">
        <div><span class="pill">Domain: ${q.domain}</span></div>
        <div class="pill">Type: ${q.type==='multi'?'Multiple-response':'Multiple-choice'}</div>`;
      qroot.appendChild(h);
      const p = document.createElement('p'); p.className='qtext'; p.textContent=q.q; qroot.appendChild(p);
      const chosen = selections[idx]||[];
      q.opts.forEach((opt,i)=>{
        const label=document.createElement('label'); label.className='opt';
        const input=document.createElement('input'); input.type=q.type==='multi'?'checkbox':'radio'; input.name='opt'; input.value=i;
        if(chosen.includes(i)) input.checked=true;
        input.addEventListener('change',()=>{
          if(q.type==='multi'){ const set=new Set(selections[idx]||[]); input.checked?set.add(i):set.delete(i); selections[idx]=[...set]; }
          else { selections[idx]=[i]; document.querySelectorAll('#qroot input[name="opt"]').forEach(other=>{ if(other!==input) other.checked=false; }); }
        });
        const span=document.createElement('span'); span.textContent=opt;
        label.appendChild(input); label.appendChild(span); qroot.appendChild(label);
      });
      const ex=document.createElement('div'); ex.className='explain hidden'; ex.id='explain'; ex.textContent=q.ex; qroot.appendChild(ex);
      checked=false; updateMeta();
    }
    function check(){
      if(checked || deck.length===0) return;
      const q = deck[idx]; const chosen=new Set(selections[idx]||[]); const correct=new Set(q.ans);
      if(chosen.size===correct.size && [...chosen].every(x=>correct.has(x))) score++;
      document.querySelectorAll('#qroot .opt').forEach((lab,i)=>{
        if(correct.has(i)) lab.classList.add('correct');
        if(chosen.has(i) && !correct.has(i)) lab.classList.add('wrong');
      });
      document.getElementById('explain').classList.remove('hidden'); checked=true; updateMeta();
    }
    function move(d){
      if(deck.length===0) return;
      idx=Math.min(Math.max(0,idx+d),deck.length-1); renderQ();
    }
    function finish(){
      if(deck.length===0) return;
      document.getElementById('final').classList.remove('hidden');
      const pct=Math.round((score/deck.length)*100);
      document.getElementById('finalText').innerHTML = `You scored <b>${score}</b> of <b>${deck.length}</b> (${pct}%).<br>`+(pct>=70?"Looks good vs 700/1000 threshold.":"Keep practicing!");
      window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'});
    }

    document.addEventListener('DOMContentLoaded', () => {
      overlay.classList.add('hidden');

      document.querySelectorAll('[role="tab"]').forEach(btn=>{
        btn.addEventListener('click', ()=> showView(btn.dataset.view));
      });
      showView('cards');

      document.querySelectorAll('.chip[data-key]').forEach(chip=>{
        chip.addEventListener('click', ()=>openModal(chip.dataset.key));
        chip.addEventListener('keydown', (e)=>{
          if(e.key==='Enter' || e.key===' ') { e.preventDefault(); openModal(chip.dataset.key); }
        });
      });

      if(closeBtn){
        closeBtn.addEventListener('click', closeModal);
        closeBtn.addEventListener('keydown', (e)=>{
          if(e.key==='Enter' || e.key===' '){ e.preventDefault(); closeModal(); }
        });
      }
      if(overlay){
        overlay.addEventListener('click', (e)=>{ if(e.target===overlay) closeModal(); });
        overlay.addEventListener('keydown', trapFocus);
      }
      document.addEventListener('keydown', (e)=>{
        if((e.key==='Escape' || e.key==='Esc') && isModalOpen()){
          e.preventDefault();
          closeModal();
        }
      });

      document.getElementById('startBtn').addEventListener('click', startMock);
      document.getElementById('checkBtn').addEventListener('click', check);
      document.getElementById('nextBtn').addEventListener('click', ()=>move(1));
      document.getElementById('prevBtn').addEventListener('click', ()=>move(-1));
      document.getElementById('finishBtn').addEventListener('click', finish);

      startMock();
    });
  </script>
</body>
</html>
