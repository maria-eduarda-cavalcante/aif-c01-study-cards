<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AWS Certified AI Practitioner (AIF‑C01) — Study Cards & Practice Exam</title>
  <meta name="description" content="Study cards and an interactive mock exam styled like the AWS AIF‑C01. Built as a single‑file GitHub Pages site."/>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='12' ry='12' fill='%230e2a6b'/%3E%3Cpath d='M12 44h40v4H12zM20 16h24v8H20z' fill='%234ba3ff'/%3E%3C/svg%3E">
  <style>
    :root{
      --bg:#0b1220; --panel:#111a2e; --ink:#e6eefc; --muted:#9ab0d6; --accent:#4ba3ff; --ok:#27c93f; --bad:#ff4d4f; --warn:#f5a524;
      --card:#0e172a; --chip:#17213a; --border:#223155;
      --overlay: rgba(6, 12, 24, .75);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial;color:var(--ink);background:linear-gradient(180deg,#060b16, #0b1220 35%, #0b1220 100%)}
    a{color:var(--accent)}
    .container{max-width:1100px;margin:0 auto;padding:24px}
    header{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:20px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:40px;height:40px;border-radius:10px;background:radial-gradient(circle at 30% 30%,#4ba3ff 0,#2f6fff 40%,#0e2a6b 100%);box-shadow:0 6px 18px rgba(17,106,255,.35)}
    h1{font-size:22px;letter-spacing:.2px;margin:0}
    .nav{display:flex;gap:8px;flex-wrap:wrap}
    .btn{background:var(--panel);border:1px solid var(--border);color:var(--ink);padding:10px 14px;border-radius:12px;cursor:pointer}
    .btn:hover{border-color:var(--accent)}
    .btn.primary{background:linear-gradient(180deg,#145bff,#0f44bf);border:0}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:0 12px 24px rgba(0,0,0,.25)}
    .card h3{margin:0 0 8px 0;font-size:16px}
    .muted{color:var(--muted)}
    .chip{display:inline-block;padding:6px 10px;border-radius:999px;background:var(--chip);border:1px solid var(--border);font-size:12px;margin:3px 6px 0 0;cursor:pointer;user-select:none}
    .chip:focus{outline:2px solid var(--accent)}
    details{border:1px dashed var(--border);border-radius:12px;padding:10px;margin-top:8px}
    summary{cursor:pointer}
    .quiz{margin-top:28px}
    .qpanel{background:var(--panel);border:1px solid var(--border);border-radius:16px;padding:18px}
    .qtext{font-size:16px;margin:0 0 10px 0}
    .opt{display:flex;gap:10px;align-items:flex-start;background:var(--card);border:1px solid var(--border);padding:10px;border-radius:12px;margin:8px 0;cursor:pointer}
    .opt input{margin-top:2px}
    .opt.correct{outline:2px solid var(--ok);background:rgba(39,201,63,.08)}
    .opt.wrong{outline:2px solid var(--bad);background:rgba(255,77,79,.08)}
    .explain{margin-top:10px;color:var(--muted)}
    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .spacer{height:14px}
    .footer{margin-top:24px;color:var(--muted);font-size:12px}
    .kbd{font-family:ui-monospace,Menlo,monospace;background:#0a1224;border:1px solid #1b2b52;border-radius:6px;padding:2px 6px}
    .pill{padding:4px 10px;border:1px solid var(--border);border-radius:999px;background:var(--chip)}
    .stat{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:var(--chip);}
    .hidden{display:none}

    /* Modal */
    .overlay{position:fixed;inset:0;background:var(--overlay);display:flex;align-items:center;justify-content:center;padding:20px;z-index:50}
    .modal{max-width:680px;width:100%;background:var(--panel);border:1px solid var(--border);border-radius:16px;box-shadow:0 22px 60px rgba(0,0,0,.45)}
    .modal header{display:flex;justify-content:space-between;align-items:center;padding:16px 18px;border-bottom:1px solid var(--border)}
    .modal header h3{margin:0;font-size:18px}
    .modal .body{padding:18px}
    .tag{display:inline-block;margin:0 6px 6px 0;padding:4px 8px;border:1px solid var(--border);border-radius:999px;background:var(--chip);font-size:12px;color:var(--muted)}
    .close{background:transparent;border:1px solid var(--border);color:var(--ink);border-radius:10px;padding:6px 10px;cursor:pointer}
    .close:hover{border-color:var(--accent)}
    .kbdkey{font-family:ui-monospace,Menlo,monospace;border:1px solid var(--border);border-radius:6px;padding:1px 6px;background:var(--chip)}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo"></div>
        <div>
          <h1>AIF‑C01 Study Cards + Mock Exam</h1>
          <div class="muted">AWS Certified AI Practitioner — unofficial study helper based on the public exam guide.</div>
        </div>
      </div>
      <nav class="nav">
        <button class="btn" id="btnCards" type="button">Study Cards</button>
        <button class="btn" id="btnQuiz" type="button">Mock Exam</button>
        <button class="btn primary" id="btnShare" type="button">How to Publish on GitHub Pages</button>
      </nav>
    </header>

    <!-- STUDY CARDS -->
    <section id="cardsView">
      <div class="grid">
        <div class="card">
          <h3>Core AWS Services</h3>
          <div class="muted">Compute · Storage · Networking · Security integration · Automation</div>
          <div class="spacer"></div>
          <div>
            <span class="chip" data-key="EC2" tabindex="0">EC2</span>
            <span class="chip" data-key="Lambda" tabindex="0">Lambda</span>
            <span class="chip" data-key="ECS" tabindex="0">ECS</span>
            <span class="chip" data-key="EKS" tabindex="0">EKS</span>
            <span class="chip" data-key="ELB" tabindex="0">ELB</span>
            <span class="chip" data-key="S3" tabindex="0">S3</span>
            <span class="chip" data-key="Glacier" tabindex="0">Glacier</span>
            <span class="chip" data-key="EBS" tabindex="0">EBS</span>
            <span class="chip" data-key="EFS" tabindex="0">EFS</span>
            <span class="chip" data-key="VPC" tabindex="0">VPC</span>
            <span class="chip" data-key="CloudFront" tabindex="0">CloudFront</span>
            <span class="chip" data-key="PrivateLink" tabindex="0">PrivateLink</span>
            <span class="chip" data-key="IAM" tabindex="0">IAM</span>
            <span class="chip" data-key="KMS" tabindex="0">KMS</span>
          </div>
          <details>
            <summary>Key ideas</summary>
            <ul>
              <li>EC2 for scalable compute (GPU families for DL); Lambda for serverless triggers.</li>
              <li>S3 as data lake; Glacier for archive; EBS/EFS for high‑IO or shared FS.</li>
              <li>VPC isolates workloads; CloudFront accelerates delivery; PrivateLink avoids public internet.</li>
              <li>IAM for access control; KMS for encryption keys.</li>
            </ul>
          </details>
        </div>

        <div class="card">
          <h3>Databases & Analytics</h3>
          <div class="muted">Operational stores · ETL · BI · Vector search</div>
          <div class="spacer"></div>
          <div>
            <span class="chip" data-key="RDS" tabindex="0">RDS</span>
            <span class="chip" data-key="DynamoDB" tabindex="0">DynamoDB</span>
            <span class="chip" data-key="Neptune" tabindex="0">Neptune</span>
            <span class="chip" data-key="DocumentDB" tabindex="0">DocumentDB</span>
            <span class="chip" data-key="OpenSearch" tabindex="0">OpenSearch</span>
            <span class="chip" data-key="Aurora" tabindex="0">Aurora</span>
            <span class="chip" data-key="Glue" tabindex="0">Glue</span>
            <span class="chip" data-key="DataBrew" tabindex="0">DataBrew</span>
            <span class="chip" data-key="LakeFormation" tabindex="0">Lake Formation</span>
            <span class="chip" data-key="Redshift" tabindex="0">Redshift</span>
            <span class="chip" data-key="QuickSight" tabindex="0">QuickSight</span>
            <span class="chip" data-key="EMR" tabindex="0">EMR</span>
            <span class="chip" data-key="DataExchange" tabindex="0">Data Exchange</span>
          </div>
          <details>
            <summary>Key ideas</summary>
            <ul>
              <li>Glue/DataBrew prepare data; Lake Formation secures data lakes on S3.</li>
              <li>Redshift for analytics; QuickSight for dashboards.</li>
              <li>OpenSearch can store embeddings for RAG.</li>
            </ul>
          </details>
        </div>

        <div class="card">
          <h3>Security, Identity & Compliance</h3>
          <div class="muted">Protect data · Access control · Audit · Compliance</div>
          <div class="spacer"></div>
          <div>
            <span class="chip" data-key="Macie" tabindex="0">Macie</span>
            <span class="chip" data-key="CloudTrail" tabindex="0">CloudTrail</span>
            <span class="chip" data-key="Config" tabindex="0">Config</span>
            <span class="chip" data-key="AuditManager" tabindex="0">Audit Manager</span>
            <span class="chip" data-key="Artifact" tabindex="0">Artifact</span>
            <span class="chip" data-key="TrustedAdvisor" tabindex="0">Trusted Advisor</span>
          </div>
          <details>
            <summary>Key ideas</summary>
            <ul>
              <li>Shared Responsibility Model; least privilege; encryption at rest/in transit.</li>
              <li>CloudTrail for activity logs; Config for compliance; Macie for PII in S3.</li>
            </ul>
          </details>
        </div>

        <div class="card">
          <h3>Governance, Monitoring & Cost</h3>
          <div class="muted">Best practices · Observability · Budgeting</div>
          <div class="spacer"></div>
          <div>
            <span class="chip" data-key="WellArchitected" tabindex="0">Well‑Architected Tool</span>
            <span class="chip" data-key="CloudWatch" tabindex="0">CloudWatch</span>
            <span class="chip" data-key="Budgets" tabindex="0">Budgets</span>
            <span class="chip" data-key="CostExplorer" tabindex="0">Cost Explorer</span>
            <span class="chip" data-key="ModelMonitor" tabindex="0">Model Monitor</span>
            <span class="chip" data-key="ComputeOptimizer" tabindex="0">Compute Optimizer</span>
          </div>
          <details>
            <summary>Key ideas</summary>
            <ul>
              <li>CloudWatch metrics/alarms; Model Monitor for drift & data quality.</li>
              <li>Budgets & Cost Explorer for proactive spend control.</li>
            </ul>
          </details>
        </div>
      </div>
    </section>

    <!-- QUIZ -->
    <section id="quizView" class="quiz hidden">
      <div class="row" style="justify-content:space-between;margin-bottom:12px">
        <div class="stat"><span>Questions:</span>
          <select id="numQuestions" class="btn" style="padding:6px 10px;border-radius:10px;background:var(--chip)">
            <option value="10">10</option>
            <option value="20">20</option>
            <option value="30">30</option>
            <option value="40">40</option>
            <option value="50" selected>50</option>
          </select>
        </div>
        <div class="row">
          <span class="pill" id="prog">0 / 0</span>
          <span class="pill" id="score">Score: 0</span>
        </div>
      </div>

      <div id="qroot" class="qpanel"></div>

      <div class="row" style="margin-top:12px;justify-content:space-between">
        <div class="row">
          <button class="btn" id="prevBtn" type="button">◀ Prev</button>
          <button class="btn" id="nextBtn" type="button">Next ▶</button>
        </div>
        <div class="row">
          <button class="btn" id="checkBtn" type="button">Check Answer</button>
          <button class="btn" id="finishBtn" type="button">Finish</button>
          <button class="btn primary" id="startBtn" type="button">Start New Mock</button>
        </div>
      </div>

      <div id="final" class="card hidden" style="margin-top:16px">
        <h3>Results</h3>
        <div id="finalText" class="muted"></div>
      </div>
    </section>

    <!-- HOW TO PUBLISH -->
    <section id="howTo" class="hidden" style="margin-top:20px">
      <div class="card">
        <h3>Publish to GitHub Pages (manual steps)</h3>
        <ol>
          <li>Create a new public repo on GitHub (e.g., <span class="kbd">aif-c01-study-cards</span>).</li>
          <li>Add a file named <span class="kbd">index.html</span> with the contents of this page.</li>
          <li>Commit & push to the <span class="kbd">main</span> branch.</li>
          <li>Go to <b>Settings → Pages</b> → <b>Build and deployment</b>: Source = <b>Deploy from a branch</b>, Branch = <b>main</b>, Folder = <b>root</b>.</li>
          <li>Your site will be live at <span class="kbd">https://&lt;your‑user&gt;.github.io/aif-c01-study-cards/</span>.</li>
        </ol>
        <p class="muted">This project uses only static HTML/CSS/JS — no build step required.</p>
      </div>
    </section>

    <div class="footer">Content aligned with the public AIF‑C01 exam guide topics (no proprietary material). This is an unofficial practice tool.</div>
  </div>

  <!-- Modal (hidden by default) -->
  <div id="overlay" class="overlay hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal">
      <header>
        <h3 id="modalTitle">Title</h3>
        <button class="close" id="modalClose" aria-label="Close">Close (Esc)</button>
      </header>
      <div class="body">
        <div id="modalTags"></div>
        <p id="modalDesc"></p>
        <p id="modalPurpose"></p>
        <p id="modalExample"></p>
      </div>
    </div>
  </div>

  <script>
    // --- Dataset for modal content (succinct, aligned to public AWS docs) ---
    const DATA = {
      EC2: { name: "Amazon EC2 (Elastic Compute Cloud)",
        desc: "Resizable virtual servers in the cloud, including GPU instances for deep learning.",
        purpose: "Run applications, training jobs, and inference servers with full OS control.",
        example: "Train a PyTorch model on a g5.2xlarge GPU instance reading data from S3." },
      Lambda: { name: "AWS Lambda",
        desc: "Serverless compute that runs code in response to events.",
        purpose: "Execute lightweight transformations, triggers, or inference without managing servers.",
        example: "Process an S3 object-created event and call a model endpoint for classification." },
      ECS: { name: "Amazon ECS",
        desc: "Managed container orchestration for Docker workloads.",
        purpose: "Deploy and scale containerized AI microservices and batch jobs.",
        example: "Serve a FastAPI inference container behind an Application Load Balancer." },
      EKS: { name: "Amazon EKS",
        desc: "Managed Kubernetes control plane on AWS.",
        purpose: "Run scalable AI platforms and inference services with Kubernetes APIs.",
        example: "Deploy a Helm chart that exposes a model endpoint with HPA autoscaling." },
      ELB: { name: "Elastic Load Balancing",
        desc: "Distributes traffic across EC2, containers, or IPs.",
        purpose: "Increase availability and balance requests to inference targets.",
        example: "ALB routes /predict requests to multiple ECS tasks." },
      S3: { name: "Amazon S3 (Simple Storage Service)",
        desc: "Highly durable object storage often used as a data lake.",
        purpose: "Store datasets, model artifacts, logs, and static web assets.",
        example: "Keep training data in S3 and mount via SageMaker or SDK for training." },
      Glacier: { name: "Amazon S3 Glacier",
        desc: "Low-cost archival storage tiers for infrequently accessed data.",
        purpose: "Retain old checkpoints, logs, or historical datasets at minimal cost.",
        example: "Archive prior model versions for audit and rollback purposes." },
      EBS: { name: "Amazon EBS (Elastic Block Store)",
        desc: "Block storage volumes for EC2 instances.",
        purpose: "Provide high-performance storage for training or databases.",
        example: "Attach a Provisioned IOPS SSD volume to an EC2 training instance." },
      EFS: { name: "Amazon EFS (Elastic File System)",
        desc: "Serverless, scalable file system for shared access.",
        purpose: "Share files across multiple instances or containers concurrently.",
        example: "Multiple training workers read/write to a common dataset directory." },
      VPC: { name: "Amazon VPC (Virtual Private Cloud)",
        desc: "Logically isolated virtual network in AWS.",
        purpose: "Control subnets, routing, and security for AI workloads.",
        example: "Run private inference endpoints in isolated subnets with security groups." },
      CloudFront: { name: "Amazon CloudFront",
        desc: "Global Content Delivery Network (CDN).",
        purpose: "Cache and accelerate delivery of static assets and APIs.",
        example: "Serve a web UI and model assets to global users with low latency." },
      PrivateLink: { name: "AWS PrivateLink",
        desc: "Private connectivity to services without using public Internet.",
        purpose: "Expose and consume services via VPC endpoints securely.",
        example: "Access a Bedrock/SageMaker endpoint from a private subnet via Interface Endpoint." },
      IAM: { name: "AWS Identity and Access Management (IAM)",
        desc: "Manage identities (users/roles) and fine-grained permissions.",
        purpose: "Apply least privilege and secure access to resources.",
        example: "Create a role that grants SageMaker read-only access to a specific S3 bucket." },
      KMS: { name: "AWS Key Management Service (KMS)",
        desc: "Managed creation and control of encryption keys.",
        purpose: "Protect data at rest and integrate encryption with AWS services.",
        example: "Encrypt S3 objects and database storage using customer-managed keys." },

      RDS: { name: "Amazon RDS",
        desc: "Managed relational databases (MySQL, PostgreSQL, etc.).",
        purpose: "Persist structured transactional data for applications.",
        example: "Store user metadata and link to inference logs for analysis." },
      DynamoDB: { name: "Amazon DynamoDB",
        desc: "Managed NoSQL key‑value and document database.",
        purpose: "Ultra‑low latency access for high‑volume AI apps.",
        example: "Save chat session state and features for personalization." },
      Neptune: { name: "Amazon Neptune",
        desc: "Managed graph database for relationships.",
        purpose: "Model knowledge graphs, recommendations, and fraud links.",
        example: "Query related entities to enrich RAG retrieval context." },
      DocumentDB: { name: "Amazon DocumentDB",
        desc: "Managed JSON document database (MongoDB‑compatible).",
        purpose: "Flexible storage for semi‑structured app data.",
        example: "Store conversation history and message payloads as JSON." },
      OpenSearch: { name: "Amazon OpenSearch Service",
        desc: "Search/analytics with support for vector indices.",
        purpose: "Full‑text and semantic retrieval for RAG pipelines.",
        example: "Index embeddings and retrieve top‑k context for prompts." },
      Aurora: { name: "Amazon Aurora",
        desc: "High‑performance relational database compatible with MySQL/PostgreSQL.",
        purpose: "OLTP workloads with read replicas and high availability.",
        example: "Back app transactions for an AI product dashboard." },
      Glue: { name: "AWS Glue",
        desc: "Serverless ETL service for data preparation.",
        purpose: "Clean, transform, and catalog data at scale.",
        example: "Run Glue Jobs to normalize training data stored in S3." },
      DataBrew: { name: "AWS Glue DataBrew",
        desc: "Visual, no‑code data preparation tool.",
        purpose: "Enable analysts to prepare datasets without writing code.",
        example: "Apply transformations and export clean CSVs to S3." },
      LakeFormation: { name: "AWS Lake Formation",
        desc: "Build and secure data lakes on S3.",
        purpose: "Centralize permissions and governance of lake data.",
        example: "Grant table‑level access to curated datasets in the catalog." },
      Redshift: { name: "Amazon Redshift",
        desc: "Managed data warehouse for large‑scale analytics.",
        purpose: "Run SQL analytics over petabyte‑scale data.",
        example: "Aggregate model usage metrics and costs by team." },
      QuickSight: { name: "Amazon QuickSight",
        desc: "Serverless BI dashboards and visuals.",
        purpose: "Share KPIs and drilldowns without managing servers.",
        example: "Create a dashboard for accuracy, latency, and spend." },
      EMR: { name: "Amazon EMR",
        desc: "Managed big‑data clusters for Spark/Hadoop.",
        purpose: "Distributed preprocessing and feature engineering.",
        example: "Extract features from raw logs across a Spark cluster." },
      DataExchange: { name: "AWS Data Exchange",
        desc: "Marketplace for third‑party datasets.",
        purpose: "Enrich models and analytics with external data.",
        example: "Subscribe to demographic data to improve recommendations." },

      Macie: { name: "Amazon Macie",
        desc: "ML‑powered discovery of sensitive data in S3.",
        purpose: "Classify PII and monitor data privacy risks.",
        example: "Detect exposed PII objects and alert security teams." },
      CloudTrail: { name: "AWS CloudTrail",
        desc: "Records account activity and API usage.",
        purpose: "Audit, investigate, and meet compliance requirements.",
        example: "Trace who deployed a model and when configuration changed." },
      Config: { name: "AWS Config",
        desc: "Tracks resource configurations and compliance.",
        purpose: "Detect drift and enforce rules at scale.",
        example: "Flag any S3 bucket without default encryption enabled." },
      AuditManager: { name: "AWS Audit Manager",
        desc: "Automates evidence collection for audits.",
        purpose: "Map controls to frameworks (e.g., SOC/ISO) and generate reports.",
        example: "Collect artifacts proving encryption and access controls." },
      Artifact: { name: "AWS Artifact",
        desc: "On‑demand access to AWS compliance reports and agreements.",
        purpose: "Download SOC/ISO reports and manage BAAs.",
        example: "Provide auditors with the latest AWS SOC 2 report." },
      TrustedAdvisor: { name: "AWS Trusted Advisor",
        desc: "Recommendations for cost, performance, security, and limits.",
        purpose: "Continuously improve posture and reduce waste.",
        example: "Identify idle GPU instances and unattached volumes." },

      WellArchitected: { name: "AWS Well‑Architected Tool",
        desc: "Guided reviews against the Well‑Architected Framework.",
        purpose: "Assess workloads across pillars and track improvements.",
        example: "Review an ML pipeline for cost optimization and resiliency." },
      CloudWatch: { name: "Amazon CloudWatch",
        desc: "Metrics, logs, alarms, and dashboards.",
        purpose: "Observe AI services and trigger automation on anomalies.",
        example: "Alert on elevated model latency and error rates." },
      Budgets: { name: "AWS Budgets",
        desc: "Custom cost and usage thresholds with alerts.",
        purpose: "Prevent overruns by notifying owners early.",
        example: "Email/Slack when monthly spend exceeds 80% of budget." },
      CostExplorer: { name: "AWS Cost Explorer",
        desc: "Interactive cost analytics and trends.",
        purpose: "Break down spend by service, tag, or account.",
        example: "Analyze SageMaker vs EC2 costs for inference." },
      ModelMonitor: { name: "Amazon SageMaker Model Monitor",
        desc: "Automated monitoring for model/data quality and drift.",
        purpose: "Detect deviations post‑deployment and trigger actions.",
        example: "Compare live inference data against training baselines." },
      ComputeOptimizer: { name: "AWS Compute Optimizer",
        desc: "Rightsizing recommendations using ML.",
        purpose: "Choose better instance types for performance/cost.",
        example: "Downsize underutilized training nodes to reduce spend." }
    };

    
    // --- Chip listeners (explicit binding to avoid event delegation edge cases) ---
    document.addEventListener('DOMContentLoaded', () => {
      const chips = document.querySelectorAll('.chip[data-key]');
      chips.forEach(ch => {
        ch.addEventListener('click', (e) => {
          e.preventDefault(); e.stopPropagation();
          const key = ch.dataset.key;
          if(!key){ console.warn('Chip without data-key'); return; }
          if(!DATA[key]){ console.warn('No DATA for key:', key); return; }
          openModal(key);
        });
        ch.addEventListener('keydown', (e) => {
          if(e.key === 'Enter' || e.key === ' ') {
            e.preventDefault(); e.stopPropagation();
            const key = ch.dataset.key;
            if(key && DATA[key]) openModal(key);
          }
        });
      });
    });

    // --- SPA Navigation ---

    const $ = (sel)=>document.querySelector(sel);
    const show = (sel)=>{ const el=$(sel); if(el) el.classList.remove('hidden'); };
    const hide = (sel)=>{ const el=$(sel); if(el) el.classList.add('hidden'); };

    function safeBtn(id, fn){
      const el = document.getElementById(id);
      if(!el) return;
      el.addEventListener('click', (e)=>{ e.preventDefault(); e.stopPropagation(); fn(); });
    }

    safeBtn('btnQuiz', ()=>{ hide('#cardsView'); hide('#howTo'); show('#quizView'); });
    safeBtn('btnCards', ()=>{ show('#cardsView'); hide('#quizView'); hide('#howTo'); });
    safeBtn('btnShare', ()=>{ hide('#cardsView'); hide('#quizView'); show('#howTo'); });

    // --- Modal wiring with event delegation on chips ---
    const overlay = document.getElementById('overlay');
    const titleEl = document.getElementById('modalTitle');
    const tagsEl = document.getElementById('modalTags');
    const descEl = document.getElementById('modalDesc');
    const purposeEl = document.getElementById('modalPurpose');
    const exampleEl = document.getElementById('modalExample');
    const closeBtn = document.getElementById('modalClose');

    function openModal(key){
      const item = DATA[key];
      if(!item) return;
      titleEl.textContent = item.name;
      tagsEl.innerHTML = `<span class="tag">Acronym: ${key}</span>`;
      descEl.innerHTML = `<b>Description:</b> ${item.desc}`;
      purposeEl.innerHTML = `<b>Purpose:</b> ${item.purpose}`;
      exampleEl.innerHTML = `<b>Example:</b> ${item.example}`;
      overlay.classList.remove('hidden');
      closeBtn.focus();
    }
    function closeModal(){ overlay.classList.add('hidden'); }

    document.addEventListener('click', (e)=>{
      const chip = e.target.closest('.chip');
      if(chip && chip.dataset.key){
        e.preventDefault(); e.stopPropagation();
        openModal(chip.dataset.key);
      } else if(e.target === overlay){
        // click on dark area closes modal
        closeModal();
      }
    });
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape') closeModal();
      if(e.key === 'Enter' && document.activeElement && document.activeElement.classList.contains('chip')){
        const key = document.activeElement.dataset.key;
        if(key) openModal(key);
      }
    });
    closeBtn.addEventListener('click', closeModal);

    // --- Quiz logic (unchanged) ---
    const BANK = [
      {domain:"Core",type:"single",q:"Which service provides virtual machines for training or inference?",opts:["AWS Lambda","Amazon EC2","Amazon S3","Amazon CloudFront"],ans:[1],ex:"EC2 provides resizable compute instances; Lambda is serverless."},
      {domain:"Core",type:"single",q:"Which service is object storage typically used as a data lake for ML?",opts:["Amazon EFS","Amazon EBS","Amazon S3","Amazon Redshift"],ans:[2],ex:"S3 stores datasets, artifacts, and logs for ML."},
      {domain:"Core",type:"multi",q:"Select the container orchestration services.",opts:["Amazon ECS","Amazon EKS","AWS Batch","AWS Lambda"],ans:[0,1],ex:"ECS and EKS orchestrate containers; Lambda is FaaS."},
      {domain:"Core",type:"single",q:"Which service accelerates global delivery of static assets?",opts:["Amazon VPC","Amazon CloudFront","AWS PrivateLink","AWS Config"],ans:[1],ex:"CloudFront is the CDN."},
      {domain:"Core",type:"single",q:"Which service provides private connectivity to AWS services without using the public Internet?",opts:["AWS PrivateLink","AWS Direct Connect","Amazon VPC","AWS Shield"],ans:[0],ex:"PrivateLink exposes services over private endpoints."},

      {domain:"DBA",type:"single",q:"Which database is a fully managed NoSQL key‑value store?",opts:["Amazon RDS","Amazon DynamoDB","Amazon Neptune","Amazon DocumentDB"],ans:[1],ex:"DynamoDB is the managed NoSQL database."},
      {domain:"DBA",type:"single",q:"Which service provides vector search useful for RAG?",opts:["Amazon OpenSearch Service","Amazon Redshift","Amazon QuickSight","AWS Lake Formation"],ans:[0],ex:"OpenSearch supports k‑NN/vector indices."},
      {domain:"DBA",type:"multi",q:"Select services commonly used to prepare and govern data lakes on S3.",opts:["AWS Glue","AWS Glue DataBrew","AWS Lake Formation","Amazon EMR"],ans:[0,1,2],ex:"Glue (ETL), DataBrew (no‑code prep), Lake Formation (governance)."},
      {domain:"DBA",type:"single",q:"Which service is a petabyte‑scale data warehouse for analytics?",opts:["Amazon Redshift","Amazon RDS","Amazon EMR","AWS Data Exchange"],ans:[0],ex:"Redshift is the data warehouse."},

      {domain:"Sec",type:"single",q:"Which service manages encryption keys for data at rest?",opts:["AWS IAM","AWS KMS","AWS Artifact","AWS Budgets"],ans:[1],ex:"KMS creates and controls keys used by many AWS services."},
      {domain:"Sec",type:"multi",q:"Select services that help with audit and compliance evidence.",opts:["AWS CloudTrail","AWS Audit Manager","AWS Artifact","AWS X-Ray"],ans:[0,1,2],ex:"CloudTrail logs activity, Audit Manager gathers evidence, Artifact hosts reports."},
      {domain:"Sec",type:"single",q:"Which service discovers and classifies sensitive data in S3?",opts:["Amazon Macie","Amazon GuardDuty","AWS Security Hub","AWS WAF"],ans:[0],ex:"Macie uses ML to find PII in S3."},
      {domain:"Sec",type:"single",q:"Which statement best describes the Shared Responsibility Model?",opts:["AWS is responsible for everything in the cloud.","Customers secure the cloud infrastructure.","AWS secures the cloud; customers secure what they build in the cloud.","Security is handled by third‑party vendors only."],ans:[2],ex:"AWS secures the infrastructure; you secure configurations, identities, and data."},

      {domain:"Gov",type:"single",q:"Which service collects metrics and enables alarms/dashboards?",opts:["AWS CloudTrail","Amazon CloudWatch","AWS Config","AWS Trusted Advisor"],ans:[1],ex:"CloudWatch handles metrics, logs, alarms, and dashboards."},
      {domain:"Gov",type:"single",q:"Which tool reviews workloads against AWS best practices?",opts:["AWS Well‑Architected Tool","AWS Budgets","AWS Audit Manager","AWS Cost Explorer"],ans:[0],ex:"Well‑Architected Tool maps to the framework pillars."},
      {domain:"Gov",type:"multi",q:"Select services used for cost control and visibility.",opts:["AWS Budgets","AWS Cost Explorer","AWS Compute Optimizer","AWS Artifact"],ans:[0,1,2],ex:"Budgets alerts, Cost Explorer trends, Compute Optimizer rightsizing."},

      {domain:"GenAI",type:"single",q:"Which service provides access to foundation models for building generative AI apps?",opts:["Amazon SageMaker","Amazon Bedrock","Amazon Comprehend","Amazon Q"],ans:[1],ex:"Bedrock provides managed access to FMs and tooling."},
      {domain:"GenAI",type:"single",q:"Which statement is true about prompt engineering in the exam context?",opts:["It is out of scope.","It focuses on crafting inputs to guide model outputs.","It requires building custom models.","It only applies to image models."],ans:[1],ex:"Prompt engineering is in‑scope as a technique for FM applications."},
      {domain:"GenAI",type:"multi",q:"Select services commonly associated with language, speech, or vision tasks.",opts:["Amazon Transcribe","Amazon Polly","Amazon Rekognition","AWS Proton"],ans:[0,1,2],ex:"Transcribe (speech‑to‑text), Polly (text‑to‑speech), Rekognition (image/video)."},

      {domain:"Core",type:"single",q:"Which service provides a managed file system for shared access across instances?",opts:["Amazon EFS","Amazon EBS","Amazon S3","Amazon Glacier"],ans:[0],ex:"EFS is NFS‑compatible shared storage."},
      {domain:"DBA",type:"single",q:"Which service helps you subscribe to curated third‑party datasets?",opts:["AWS Data Exchange","AWS Lake Formation","Amazon QuickSight","Amazon EMR"],ans:[0],ex:"Data Exchange provides external datasets."},
      {domain:"Sec",type:"single",q:"Which service stores compliance reports like SOC and ISO for download?",opts:["AWS Artifact","AWS Audit Manager","AWS Config","AWS Trusted Advisor"],ans:[0],ex:"Artifact hosts AWS compliance documentation."},
      {domain:"Gov",type:"single",q:"Which service logs API calls for governance and investigations?",opts:["AWS CloudTrail","Amazon CloudWatch","AWS Config","AWS X‑Ray"],ans:[0],ex:"CloudTrail records API and console activity."},
      {domain:"DBA",type:"multi",q:"Select relational database options in scope.",opts:["Amazon RDS","Amazon Aurora","Amazon DynamoDB","Amazon Neptune"],ans:[0,1],ex:"RDS/Aurora are relational; DynamoDB is NoSQL; Neptune is graph."},
      {domain:"GenAI",type:"single",q:"Which service is an AI assistant integrated with AWS?",opts:["Amazon Q","Amazon Bedrock","Amazon Kendra","Amazon Polly"],ans:[0],ex:"Amazon Q assists with business/technical tasks."},
      {domain:"DBA",type:"single",q:"Which service provides petabyte‑scale SQL analytics?",opts:["Amazon Redshift","Amazon DynamoDB","Amazon Kendra","AWS Glue"],ans:[0],ex:"Redshift is the data warehouse."},
      {domain:"Core",type:"single",q:"Which service balances incoming traffic across targets?",opts:["Amazon CloudFront","Elastic Load Balancing","AWS Shield","AWS Global Accelerator"],ans:[1],ex:"ELB distributes traffic across instances/containers."},
      {domain:"Sec",type:"multi",q:"Select services that directly help detect misconfigurations or risks.",opts:["AWS Config","AWS Trusted Advisor","AWS Budgets","AWS Artifact"],ans:[0,1],ex:"Config evaluates rules; Trusted Advisor flags risks."},
      {domain:"Gov",type:"single",q:"Which service helps set alerts when costs exceed thresholds?",opts:["AWS Budgets","AWS Cost Explorer","AWS Audit Manager","AWS Config"],ans:[0],ex:"Budgets sends notifications when you approach limits."},
      {domain:"DBA",type:"single",q:"Which engine is best for knowledge graphs and relationships?",opts:["Amazon Neptune","Amazon DynamoDB","Amazon Redshift","Amazon RDS"],ans:[0],ex:"Neptune is a graph database."},
      {domain:"Core",type:"single",q:"Which storage option is best for archiving old ML checkpoints at low cost?",opts:["Amazon S3 Standard","Amazon S3 Glacier","Amazon EBS","Amazon EFS"],ans:[1],ex:"Glacier is optimized for archival."},
      {domain:"GenAI",type:"multi",q:"Select benefits of managed generative AI services per the exam guide.",opts:["Lower barrier to entry","Faster time‑to‑value","No need for data governance","Cost is irrelevant"],ans:[0,1],ex:"Guide highlights accessibility/velocity; governance and cost still matter."},
      {domain:"Sec",type:"single",q:"Which service is used to define users, groups, roles, and policies?",opts:["AWS IAM","AWS KMS","AWS Macie","AWS Shield"],ans:[0],ex:"IAM handles identities and permissions."},
      {domain:"DBA",type:"single",q:"Which service is a BI dashboard tool?",opts:["Amazon QuickSight","AWS Glue","AWS Lake Formation","Amazon EMR"],ans:[0],ex:"QuickSight builds dashboards and visuals."},
      {domain:"Gov",type:"multi",q:"Select services that provide architectural or optimization recommendations.",opts:["AWS Trusted Advisor","AWS Well‑Architected Tool","AWS Artifact","AWS Budgets"],ans:[0,1],ex:"Trusted Advisor and WA Tool provide guidance; Artifact hosts reports; Budgets alerts."},
      {domain:"Core",type:"single",q:"Which service creates isolated virtual networks for workloads?",opts:["Amazon VPC","AWS PrivateLink","Amazon CloudFront","AWS Direct Connect"],ans:[0],ex:"VPC provides logically isolated networks."},
      {domain:"DBA",type:"single",q:"Which service provides visual, no‑code data prep?",opts:["AWS Glue DataBrew","AWS Glue (Jobs)","Amazon EMR","Amazon QuickSight"],ans:[0],ex:"DataBrew is a no‑code companion to Glue."},
      {domain:"Sec",type:"single",q:"Which service helps classify PII and provides alerts and dashboards?",opts:["Amazon Macie","AWS Security Hub","Amazon Detective","AWS WAF"],ans:[0],ex:"Macie focuses on S3 data classification and privacy."},
      {domain:"Gov",type:"single",q:"Which service provides detailed spend breakdowns over time?",opts:["AWS Cost Explorer","AWS Budgets","AWS Artifact","AWS Config"],ans:[0],ex:"Cost Explorer analyzes spend trends and dimensions."}
    ];

    const shuffle = (arr)=>arr.map(v=>[Math.random(),v]).sort((a,b)=>a[0]-b[0]).map(v=>v[1]);
    const qroot = document.getElementById('qroot');
    let deck=[], idx=0, score=0, checked=false, selections={};

    function startMock(){
      const n = parseInt(document.getElementById('numQuestions').value,10);
      deck = shuffle(BANK).slice(0, Math.min(n, BANK.length));
      idx=0; score=0; selections={}; checked=false;
      updateMeta();
      renderQ();
      document.getElementById('final').classList.add('hidden');
    }

    function updateMeta(){
      document.getElementById('prog').textContent = `${Math.min(idx+1, deck.length)} / ${deck.length}`;
      document.getElementById('score').textContent = `Score: ${score}`;
    }

    function renderQ(){
      const q = deck[idx];
      qroot.innerHTML = '';
      const h = document.createElement('div');
      h.innerHTML = `<div class="row" style="justify-content:space-between">
        <div><div class="pill">Domain: ${q.domain}</div></div>
        <div class="pill">Type: ${q.type==='multi'?'Multiple‑response':'Multiple‑choice'}</div>
      </div>`;
      qroot.appendChild(h);

      const p = document.createElement('p');
      p.className='qtext'; p.textContent=q.q; qroot.appendChild(p);

      const chosen = selections[idx] || [];
      q.opts.forEach((opt,i)=>{
        const label=document.createElement('label');
        label.className='opt';
        const input=document.createElement('input');
        input.type=q.type==='multi'?'checkbox':'radio';
        input.name='opt';
        input.value=i;
        if(chosen.includes(i)) input.checked=true;
        input.addEventListener('change',()=>{
          if(q.type==='multi'){
            const arr = new Set(selections[idx]||[]);
            if(input.checked) arr.add(i); else arr.delete(i);
            selections[idx] = Array.from(arr);
          } else {
            selections[idx] = [i];
          }
        });
        const span=document.createElement('span'); span.textContent=opt;
        label.appendChild(input); label.appendChild(span);
        qroot.appendChild(label);
      });

      const ex = document.createElement('div'); ex.className='explain hidden'; ex.id='explain'; ex.textContent=q.ex; qroot.appendChild(ex);
      checked=false; updateMeta();
    }

    function check(){
      if(checked) return;
      const q = deck[idx];
      const chosen = new Set(selections[idx]||[]);
      const correct = new Set(q.ans);
      const ok = chosen.size===correct.size && [...chosen].every(x=>correct.has(x));
      if(ok) score++;
      const labels = [...document.querySelectorAll('#qroot .opt')];
      labels.forEach((lab,i)=>{
        if(correct.has(i)) lab.classList.add('correct');
        if(chosen.has(i) && !correct.has(i)) lab.classList.add('wrong');
      });
      document.getElementById('explain').classList.remove('hidden');
      checked=true; updateMeta();
    }

    function move(delta){
      idx = Math.min(Math.max(0, idx+delta), deck.length-1);
      renderQ();
    }

    function finish(){
      document.getElementById('final').classList.remove('hidden');
      const pct = Math.round((score/deck.length)*100);
      document.getElementById('finalText').innerHTML = `You scored <b>${score}</b> out of <b>${deck.length}</b> (${pct}%).\n`+
        (pct>=70? "Looks good for AIF‑C01 passing threshold (700/1000 ≈ 70%)." : "Keep practicing — review weak domains above.");
      window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'});
    }

    // Wire quiz buttons
    ['startBtn','checkBtn','nextBtn','prevBtn','finishBtn'].forEach(id=>{
      const el = document.getElementById(id);
      if(!el) return;
      el.addEventListener('click', (e)=>e.preventDefault());
    });
    document.getElementById('startBtn').addEventListener('click', startMock);
    document.getElementById('checkBtn').addEventListener('click', check);
    document.getElementById('nextBtn').addEventListener('click', ()=>move(1));
    document.getElementById('prevBtn').addEventListener('click', ()=>move(-1));
    document.getElementById('finishBtn').addEventListener('click', finish);

    // Init
    startMock();
  </script>
</body>
</html>
